<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fil de nouvelles</title>

    <link rel="site.webmanifest" href="site.webmanifest">
    <link rel="icon" href="news-icon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/news.css">
</head>

<body>
    <div id="main">
        <div id="header">
            <div class="header-left">
                <img src="news-logo-upload.png" class="news-logo-img" alt="NEWS">
                <span class="header-title">Fil de nouvelles</span>
            </div>
            <div class="header-right">
                <i class="header-icon fa fa-search" id="searchBtn" title="Rechercher"></i>
                <div id="searchBarContainer" style="background:#fff;border-bottom:1px solid #e0e0e0;padding:12px 16px;display:none;align-items:center;position:absolute;top:48px;right:16px;box-shadow:0 2px 8px rgba(0,0,0,.12);border-radius:8px;z-index:200;">
                    <input type="text" id="mainSearchInput" class="form-control" placeholder="Rechercher des mots..." style="max-width:220px;flex:1;">
                    <button id="mainSearchBtn" class="form-action-btn save-btn" style="margin-left:8px;">Rechercher</button>
                    <button id="closeSearchBtn" class="form-action-btn" style="margin-left:8px;font-size:18px;" title="Fermer la recherche">&times;</button>
                </div>
                <i class="header-icon fa fa-plus" id="addBtn" title="Ajouter"></i>
                <i class="header-icon fa fa-ellipsis-vertical" id="menuBtn" title="Menu"></i>
            </div>
        </div>
        <div id="content">
            <div class="waitingGifcontainer" id="loadingContainer">
                <img src="Loading_icon.gif" class="waitingGif" alt="Chargement...">
            </div>
            <div id="postsContainer"></div>
            <div id="loadingMoreContainer" class="loading-more-container">
                <i class="fa fa-spinner fa-spin loading-more-spinner"></i>
                <p class="loading-more-text">Chargement des nouvelles suivantes...</p>
            </div>

            <!-- Vue Ajout -->
            <div id="addView" class="form-view" style="display: none;">
                <div class="form-header">
                    <h2 class="form-title">NEWS Ajout</h2>
                    <div class="form-actions">
                        <i class="fa fa-check form-action-btn save-btn" id="saveAddBtn" title="Enregistrer"></i>
                        <i class="fa fa-times form-action-btn cancel-btn" id="cancelAddBtn" title="Annuler"></i>
                    </div>
                </div>
                <form id="addForm" class="post-form">
                    <div class="form-group">
                        <label for="addCategory">Catégorie</label>
                        <input type="text" id="addCategory" name="Category" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="addTitle">Titre</label>
                        <input type="text" id="addTitle" name="Title" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="addText">Texte</label>
                        <textarea id="addText" name="Text" class="form-control textarea" rows="10" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="addImage">Image</label>
                        <div class="image-upload-container">
                            <div class="image-placeholder" id="addImagePlaceholder">
                                <span class="placeholder-text">NEWS</span>
                            </div>
                            <input type="file" id="addImage" name="Image" accept="image/*" class="image-input" required>
                            <img id="addImagePreview" class="image-preview" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" style="display: none;" alt="Aperçu">
                        </div>
                    </div>
                    <button type="submit" style="display: none;" aria-hidden="true"></button>
                </form>
            </div>

            <!-- Vue Modification -->
            <div id="editView" class="form-view" style="display: none;">
                <div class="form-header">
                    <h2 class="form-title">NEWS Modification</h2>
                    <div class="form-actions">
                        <i class="fa fa-check form-action-btn save-btn" id="saveEditBtn" title="Enregistrer"></i>
                        <i class="fa fa-times form-action-btn cancel-btn" id="cancelEditBtn" title="Annuler"></i>
                    </div>
                </div>
                <form id="editForm" class="post-form">
                    <input type="hidden" id="editId" name="Id">
                    <div class="form-group">
                        <label for="editCategory">Catégorie</label>
                        <input type="text" id="editCategory" name="Category" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="editTitle">Titre</label>
                        <input type="text" id="editTitle" name="Title" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="editText">Texte</label>
                        <textarea id="editText" name="Text" class="form-control textarea" rows="10" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="editImage">Image</label>
                        <div class="image-upload-container">
                            <div class="image-placeholder" id="editImagePlaceholder" style="display: none;">
                                <span class="placeholder-text">NEWS</span>
                            </div>
                            <input type="file" id="editImage" name="Image" accept="image/*" class="image-input">
                            <img id="editImagePreview" class="image-preview" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" style="display: none;" alt="Aperçu">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="keepCreationDate" name="keepCreationDate">
                            <span>Conserver la date de création</span>
                        </label>
                    </div>
                    <button type="submit" style="display: none;" aria-hidden="true"></button>
                </form>
            </div>

            <!-- Vue Retrait -->
            <div id="deleteView" class="form-view" style="display: none;">
                <div class="form-header">
                    <h2 class="form-title">NEWS Retrait</h2>
                    <div class="form-actions">
                        <i class="fa fa-check form-action-btn save-btn" id="confirmDeleteBtn" title="Confirmer"></i>
                        <i class="fa fa-times form-action-btn cancel-btn" id="cancelDeleteBtn" title="Annuler"></i>
                    </div>
                </div>
                <div id="deletePostContent" class="delete-post-content">
                    <!-- Le contenu du post sera inséré ici -->
                </div>
            </div>

        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="js/dateUtilities.js"></script>
    <script src="js/API_Posts.js"></script>
    <script src="js/siteUI.js"></script>
</body>

</html>

